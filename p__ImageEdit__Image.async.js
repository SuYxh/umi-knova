(self.webpackChunk=self.webpackChunk||[]).push([[678],{41225:function(M,L,e){"use strict";e.r(L);var r=e(26068),R=e.n(r),u=e(67825),s=e.n(u),m=e(48305),t=e.n(m),o=e(93236),d=e(53531),E=e(97629),c=e.n(E),_=e(62086),f=["src"],n=function(){var a=c()("https://konvajs.org/assets/lion.png"),i=t()(a,1),v=i[0];return(0,_.jsx)(d.Ee,{image:v})},g=function(a){var i=a.src,v=s()(a,f),j=c()(i),I=t()(j,1),P=I[0];return(0,_.jsx)(d.Ee,R()({image:P},v))},h=function(a){var i=a.src,v=a.x,j=a.y,I=(0,o.useState)(null),P=t()(I,2),k=P[0],x=P[1],p=(0,o.useRef)(null),O=function(){x(p.current)};return(0,o.useEffect)(function(){var l=new window.Image;return l.src=i,l.addEventListener("load",O),p.current=l,function(){l.removeEventListener("load",O)}},[i]),(0,_.jsx)(d.Ee,{x:v,y:j,image:k,ref:function(C){}})};function b(){return(0,_.jsx)("div",{style:{border:"1px solid black"},children:(0,_.jsx)(d.Hf,{width:700,height:500,children:(0,_.jsxs)(d.mh,{children:[(0,_.jsx)(h,{src:"https://konvajs.org/assets/yoda.jpg",x:150}),(0,_.jsx)(n,{}),(0,_.jsx)(g,{src:"https://konvajs.org/assets/yoda.jpg",x:300})]})})})}L.default=b},97629:function(M,L,e){var r=e(93236);M.exports=function(u,s,m){const t=r.useRef("loading"),o=r.useRef(),[d,E]=r.useState(0),c=r.useRef(),_=r.useRef(),f=r.useRef();return(c.current!==u||_.current!==s||f.current!==m)&&(t.current="loading",o.current=void 0,c.current=u,_.current=s,f.current=m),r.useLayoutEffect(function(){if(!u)return;var n=document.createElement("img");function g(){t.current="loaded",o.current=n,E(Math.random())}function h(){t.current="failed",o.current=void 0,E(Math.random())}return n.addEventListener("load",g),n.addEventListener("error",h),s&&(n.crossOrigin=s),m&&(n.referrerPolicy=m),n.src=u,function(){n.removeEventListener("load",g),n.removeEventListener("error",h)}},[u,s,m]),[o.current,t.current]}}}]);
