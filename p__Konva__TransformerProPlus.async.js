"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[949],{16767:function(O,b,n){n.r(b);var S=n(48305),g=n.n(S),y=n(26068),r=n.n(y),i=n(93236),l=n(53531),_=n(62086),D=function(o){var s=o.shapeProps,u=o.isSelected,f=o.onSelect,h=o.onChange,d=o.shapeType,p=i.useRef(),c=i.useRef();i.useEffect(function(){u&&(c.current.nodes([p.current]),c.current.getLayer().batchDraw())},[u]);var v=d==="rect"?l.UL:d==="ellipse"?l.Pj:l.Eh;return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(v,r()(r()({onClick:f,onTap:f,ref:p},s),{},{draggable:!0,onDragEnd:function(t){h(r()(r()({},s),{},{x:t.target.x(),y:t.target.y()}))},onTransformEnd:function(t){var e=p.current,E=e.scaleX(),m=e.scaleY();if(e.scaleX(1),e.scaleY(1),d==="arrow"){var C=e.points(),M=C.map(function(k,j){return j%2===0?k*E:k*m});h(r()(r()({},s),{},{points:M}))}else h(r()(r()({},s),{},{x:e.x(),y:e.y(),width:e.width()*E,height:e.height()*m}))}})),u&&(0,_.jsx)(l.$T,{ref:c,flipEnabled:!1,boundBoxFunc:function(t,e){return Math.abs(e.width)<5||Math.abs(e.height)<5?t:e}})]})},T=[{x:10,y:10,width:100,height:100,fill:"red",id:"rect1",type:"rect"},{x:150,y:150,radiusX:50,radiusY:25,stroke:"black",strokeWidth:2,id:"ellipse1",type:"ellipse"},{x:300,y:100,width:150,height:75,stroke:"blue",strokeWidth:2,id:"rect2",type:"rect"},{points:[250,100,350,200],pointerLength:10,pointerWidth:10,fill:"black",stroke:"black",strokeWidth:4,id:"arrow1",type:"arrow"}],P=function(){var o=i.useState(T),s=g()(o,2),u=s[0],f=s[1],h=i.useState(null),d=g()(h,2),p=d[0],c=d[1],v=function(t){var e=t.target===t.target.getStage();e&&c(null)};return(0,_.jsx)("div",{style:{width:"600px",height:"500px",border:"1px solid black"},children:(0,_.jsx)(l.Hf,{width:600,height:500,onMouseDown:v,onTouchStart:v,children:(0,_.jsx)(l.mh,{children:u.map(function(a,t){return(0,_.jsx)(D,{shapeProps:a,isSelected:a.id===p,onSelect:function(){c(a.id)},onChange:function(E){var m=u.slice();m[t]=E,f(m)},shapeType:a.type},t)})})})})};b.default=P}}]);
