(self.webpackChunk=self.webpackChunk||[]).push([[491],{4663:function(R,h,n){"use strict";n.r(h);var _=n(26068),D=n.n(_),i=n(48305),o=n.n(i),a=n(93236),u=n(53531),d=n(97629),P=n.n(d),t=n(62086),f=function(e){var r=e.image,m=P()(r.src),l=o()(m,1),s=l[0];return(0,t.jsx)(u.Ee,{image:s,x:r.x,y:r.y,offsetX:s?s.width/2:0,offsetY:s?s.height/2:0,draggable:!0})},v=function(){var e=a.useRef(),r=a.useRef(),m=a.useState([]),l=o()(m,2),s=l[0],M=l[1];return(0,t.jsxs)("div",{children:["Try to trag and image into the stage:",(0,t.jsx)("br",{}),(0,t.jsx)("img",{alt:"lion",src:"https://konvajs.org/assets/lion.png",draggable:"true",onDragStart:function(c){e.current=c.target.src}}),(0,t.jsx)("div",{onDrop:function(c){c.preventDefault(),r.current.setPointersPositions(c),M(s.concat([D()(D()({},r.current.getPointerPosition()),{},{src:e.current})]))},onDragOver:function(c){return c.preventDefault()},children:(0,t.jsx)(u.Hf,{width:window.innerWidth,height:window.innerHeight,style:{border:"1px solid grey"},ref:r,children:(0,t.jsx)(u.mh,{children:s.map(function(E){return(0,t.jsx)(f,{image:E})})})})})]})};h.default=v},97629:function(R,h,n){var _=n(93236);R.exports=function(i,o,a){const u=_.useRef("loading"),d=_.useRef(),[P,t]=_.useState(0),f=_.useRef(),v=_.useRef(),g=_.useRef();return(f.current!==i||v.current!==o||g.current!==a)&&(u.current="loading",d.current=void 0,f.current=i,v.current=o,g.current=a),_.useLayoutEffect(function(){if(!i)return;var e=document.createElement("img");function r(){u.current="loaded",d.current=e,t(Math.random())}function m(){u.current="failed",d.current=void 0,t(Math.random())}return e.addEventListener("load",r),e.addEventListener("error",m),o&&(e.crossOrigin=o),a&&(e.referrerPolicy=a),e.src=i,function(){e.removeEventListener("load",r),e.removeEventListener("error",m)}},[i,o,a]),[d.current,u.current]}}}]);
