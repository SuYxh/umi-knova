"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[962],{73648:function(P,g,n){n.r(g);var D=n(5574),E=n.n(D),M=n(97857),r=n.n(M),s=n(62435),m=n(79566),a=n(86074),R=function(o){var l=o.shapeProps,u=o.isSelected,f=o.onSelect,v=o.onChange,i=s.useRef(),c=s.useRef();return s.useEffect(function(){u&&(c.current.nodes([i.current]),c.current.getLayer().batchDraw())},[u]),(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(m.UL,r()(r()({onClick:f,onTap:f,ref:i},l),{},{draggable:!0,onDragEnd:function(t){v(r()(r()({},l),{},{x:t.target.x(),y:t.target.y()}))},onTransformEnd:function(t){var e=i.current,_=e.scaleX(),h=e.scaleY();e.scaleX(1),e.scaleY(1),v(r()(r()({},l),{},{x:e.x(),y:e.y(),width:Math.max(5,e.width()*_),height:Math.max(e.height()*h)}))}})),u&&(0,a.jsx)(m.$T,{ref:c,flipEnabled:!1,boundBoxFunc:function(t,e){return Math.abs(e.width)<5||Math.abs(e.height)<5?t:e}})]})},j=[{x:10,y:10,width:100,height:100,fill:"red",id:"rect1"},{x:150,y:150,width:100,height:100,fill:"green",id:"rect2"}],x=function(){var o=s.useState(j),l=E()(o,2),u=l[0],f=l[1],v=s.useState(null),i=E()(v,2),c=i[0],d=i[1],t=function(_){var h=_.target===_.target.getStage();h&&d(null)};return(0,a.jsx)("div",{style:{width:"600px",height:"500px",border:"1px solid black"},children:(0,a.jsx)(m.Hf,{width:600,height:500,onMouseDown:t,onTouchStart:t,children:(0,a.jsx)(m.mh,{children:u.map(function(e,_){return(0,a.jsx)(R,{shapeProps:e,isSelected:e.id===c,onSelect:function(){d(e.id)},onChange:function(b){console.log("newAttrs",b);var p=u.slice();p[_]=b,f(p)}},_)})})})})};g.default=x}}]);
