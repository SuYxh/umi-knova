"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[629],{7393:function(O,b,n){n.r(b);var S=n(5574),g=n.n(S),y=n(97857),r=n.n(y),i=n(62435),u=n(79566),s=n(86074),D=function(o){var _=o.shapeProps,l=o.isSelected,f=o.onSelect,h=o.onChange,d=o.shapeType,p=i.useRef(),c=i.useRef();i.useEffect(function(){l&&(c.current.nodes([p.current]),c.current.getLayer().batchDraw())},[l]);var v=d==="rect"?u.UL:d==="ellipse"?u.Pj:u.Eh;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(v,r()(r()({onClick:f,onTap:f,ref:p},_),{},{draggable:!0,onDragEnd:function(t){h(r()(r()({},_),{},{x:t.target.x(),y:t.target.y()}))},onTransformEnd:function(t){var e=p.current,E=e.scaleX(),m=e.scaleY();if(e.scaleX(1),e.scaleY(1),d==="arrow"){var x=e.points(),C=x.map(function(k,M){return M%2===0?k*E:k*m});h(r()(r()({},_),{},{points:C}))}else h(r()(r()({},_),{},{x:e.x(),y:e.y(),width:e.width()*E,height:e.height()*m}))}})),l&&(0,s.jsx)(u.$T,{ref:c,flipEnabled:!1,boundBoxFunc:function(t,e){return Math.abs(e.width)<5||Math.abs(e.height)<5?t:e}})]})},j=[{x:10,y:10,width:100,height:100,fill:"red",id:"rect1",type:"rect"},{x:150,y:150,radiusX:50,radiusY:25,stroke:"black",strokeWidth:2,id:"ellipse1",type:"ellipse"},{x:300,y:100,width:150,height:75,stroke:"blue",strokeWidth:2,id:"rect2",type:"rect"},{points:[250,100,350,200],pointerLength:10,pointerWidth:10,fill:"black",stroke:"black",strokeWidth:4,id:"arrow1",type:"arrow"}],T=function(){var o=i.useState(j),_=g()(o,2),l=_[0],f=_[1],h=i.useState(null),d=g()(h,2),p=d[0],c=d[1],v=function(t){var e=t.target===t.target.getStage();e&&c(null)};return(0,s.jsx)("div",{style:{width:"600px",height:"500px",border:"1px solid black"},children:(0,s.jsx)(u.Hf,{width:600,height:500,onMouseDown:v,onTouchStart:v,children:(0,s.jsx)(u.mh,{children:l.map(function(a,t){return(0,s.jsx)(D,{shapeProps:a,isSelected:a.id===p,onSelect:function(){c(a.id)},onChange:function(E){var m=l.slice();m[t]=E,f(m)},shapeType:a.type},t)})})})})};b.default=T}}]);
